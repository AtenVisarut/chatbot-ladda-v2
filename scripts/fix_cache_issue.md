# ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Schema Cache

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
```
Could not find the 'active_ingredient' column of 'products' in the schema cache
```

## ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏
Supabase client cache ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà refresh ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏ß‡∏¥‡∏ò‡∏µ)

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏£‡∏≠‡πÉ‡∏´‡πâ Cache Refresh (‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)

1. **‡∏£‡∏≠ 5-10 ‡∏ô‡∏≤‡∏ó‡∏µ**
2. **‡∏•‡∏≠‡∏á import ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á:**
   ```bash
   python scripts/import_with_embeddings.py "Data ICPL product for iDA.csv"
   ```

Supabase ‡∏à‡∏∞ refresh cache ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å 5-10 ‡∏ô‡∏≤‡∏ó‡∏µ

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: Restart Supabase Project

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Supabase Dashboard
2. **Settings** ‚Üí **General**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Pause project"**
4. ‡∏£‡∏≠ 1 ‡∏ô‡∏≤‡∏ó‡∏µ
5. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Resume project"**
6. ‡∏£‡∏≠ 2-3 ‡∏ô‡∏≤‡∏ó‡∏µ
7. ‡∏•‡∏≠‡∏á import ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ SQL INSERT ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ Python script ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ SQL ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á:

1. ‡πÄ‡∏õ‡∏¥‡∏î Supabase SQL Editor
2. ‡∏£‡∏±‡∏ô SQL ‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ product:

```sql
INSERT INTO products (
    product_name,
    active_ingredient,
    target_pest,
    applicable_crops,
    how_to_use,
    product_group,
    formulation,
    usage_rate,
    embedding
) VALUES (
    '‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏ô 50',
    'OMETHOATE 50%',
    '‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡πÑ‡∏ü ‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏à‡∏±‡∏Å‡∏à‡∏±‡πà‡∏ô',
    '‡∏ó‡∏∏‡∏Å‡∏û‡∏∑‡∏ä',
    '‡∏â‡∏µ‡∏î‡∏û‡πà‡∏ô',
    'Insecticide',
    'EC',
    '300cc/200L',
    '[0.034291636,0.04982264,...]'::vector
);
```

(‡πÅ‡∏ï‡πà‡∏ß‡∏¥‡∏ò‡∏µ‡∏ô‡∏µ‡πâ‡∏¢‡∏≤‡∏ß‡∏°‡∏≤‡∏Å ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: ‡πÉ‡∏ä‡πâ Table Editor UI

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Supabase **Table Editor**
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏£‡∏≤‡∏á **products**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **Insert row**
4. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡∏•‡∏∞ row

(‡∏¢‡∏≤‡∏ß‡∏°‡∏≤‡∏Å ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

---

## ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1 ‡∏´‡∏£‡∏∑‡∏≠ 2

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1** (‡∏£‡∏≠ 5-10 ‡∏ô‡∏≤‡∏ó‡∏µ) ‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2** (Pause/Resume) ‡∏à‡∏∞ force refresh ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

---

## ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

```bash
python scripts/test_vector_search.py
```

‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô:
```
‚úì Found 43 products
‚úì 43 have embeddings
‚úì Found 5 matches
```

‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üéâ
