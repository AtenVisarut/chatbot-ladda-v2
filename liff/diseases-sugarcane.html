<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÇ‡∏£‡∏Ñ‡∏≠‡πâ‡∏≠‡∏¢ - ICP Ladda</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Sarabun', sans-serif; background: #f5f5f5; min-height: 100vh; }
        .header { background: linear-gradient(135deg, #2e7d32 0%, #66bb6a 100%); color: white; padding: 15px 20px; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .header-content { max-width: 600px; margin: 0 auto; display: flex; align-items: center; gap: 15px; }
        .back-btn { background: rgba(255,255,255,0.2); border: none; color: white; width: 36px; height: 36px; border-radius: 50%; font-size: 1.2em; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .header-info { flex: 1; }
        .header h1 { font-size: 1.3em; font-weight: 700; display: flex; align-items: center; gap: 8px; }
        .header p { font-size: 0.85em; opacity: 0.9; }
        .category-tabs { max-width: 600px; margin: 0 auto; background: white; display: flex; border-bottom: 1px solid #eee; position: sticky; top: 66px; z-index: 99; }
        .category-tab { flex: 1; padding: 12px 8px; border: none; background: white; font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all 0.3s ease; font-family: 'Sarabun', sans-serif; border-bottom: 3px solid transparent; }
        .category-tab:hover { background: #f9f9f9; }
        .category-tab.active { border-bottom-color: #2e7d32; background: #f1f8e9; }
        .category-tab.fungal.active { color: #8B4513; border-bottom-color: #8B4513; }
        .category-tab.bacterial.active { color: #DC143C; border-bottom-color: #DC143C; }
        .category-tab.viral.active { color: #9932CC; border-bottom-color: #9932CC; }
        .content { max-width: 600px; margin: 0 auto; padding: 15px 20px 100px; }
        .category-section { display: none; }
        .category-section.active { display: block; }
        .section-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #eee; }
        .section-icon { font-size: 1.5em; }
        .section-title { font-size: 1.15em; font-weight: 600; color: #333; }
        .section-count { margin-left: auto; font-size: 0.85em; color: #888; background: #f0f0f0; padding: 3px 10px; border-radius: 10px; }
        .disease-list { display: flex; flex-direction: column; gap: 12px; }
        .disease-card { background: white; border-radius: 15px; padding: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.3s ease; border-left: 4px solid #2e7d32; }
        .disease-card:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.12); }
        .disease-card.fungal { border-left-color: #8B4513; }
        .disease-card.bacterial { border-left-color: #DC143C; }
        .disease-card.viral { border-left-color: #9932CC; }
        .disease-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .disease-name { font-size: 1.1em; font-weight: 600; color: #333; }
        .disease-name-en { font-size: 0.85em; color: #666; font-style: italic; }
        .disease-symptoms { font-size: 0.9em; color: #555; line-height: 1.5; margin-bottom: 10px; }
        .disease-tags { display: flex; gap: 8px; flex-wrap: wrap; }
        .tag { font-size: 0.75em; padding: 4px 10px; border-radius: 12px; background: #e8f5e9; color: #2e7d32; }
        .tag.pathogen { background: #e3f2fd; color: #1565c0; }
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px; overflow-y: auto; }
        .modal.active { display: flex; align-items: flex-start; justify-content: center; }
        .modal-content { background: white; border-radius: 20px; width: 100%; max-width: 500px; margin: 20px 0; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { padding: 20px; border-bottom: 1px solid #eee; }
        .modal-header h2 { font-size: 1.3em; color: #333; margin-bottom: 5px; }
        .modal-header p { font-size: 0.9em; color: #666; font-style: italic; }
        .modal-body { padding: 20px; }
        .detail-section { margin-bottom: 20px; }
        .detail-section:last-child { margin-bottom: 0; }
        .detail-title { font-size: 1em; font-weight: 600; color: #2e7d32; margin-bottom: 8px; display: flex; align-items: center; gap: 6px; }
        .detail-content { font-size: 0.95em; color: #444; line-height: 1.6; }
        .detail-list { list-style: none; padding-left: 0; }
        .detail-list li { padding: 6px 0; padding-left: 20px; position: relative; }
        .detail-list li::before { content: "‚Ä¢"; position: absolute; left: 0; color: #2e7d32; font-weight: bold; }
        .modal-footer { padding: 15px 20px; border-top: 1px solid #eee; display: flex; gap: 10px; }
        .modal-btn { flex: 1; padding: 12px; border: none; border-radius: 10px; font-size: 0.95em; font-weight: 600; cursor: pointer; font-family: 'Sarabun', sans-serif; }
        .modal-btn.close { background: #f0f0f0; color: #333; }
        .modal-btn.primary { background: #2e7d32; color: white; }
        .footer { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 15px 20px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .footer-content { max-width: 600px; margin: 0 auto; display: flex; gap: 10px; }
        .footer-btn { flex: 1; padding: 12px; border: none; border-radius: 10px; font-size: 0.95em; font-weight: 600; cursor: pointer; font-family: 'Sarabun', sans-serif; transition: all 0.3s ease; }
        .footer-btn.primary { background: #2e7d32; color: white; }
        .footer-btn.secondary { background: #f0f0f0; color: #333; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <div class="header-info">
                <h1><span>üéã</span> ‡πÇ‡∏£‡∏Ñ‡∏≠‡πâ‡∏≠‡∏¢</h1>
                <p>Sugarcane Diseases</p>
            </div>
        </div>
    </div>

    <div class="category-tabs">
        <button class="category-tab fungal active" onclick="showCategory('fungal')">‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤</button>
        <button class="category-tab bacterial" onclick="showCategory('bacterial')">‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢</button>
        <button class="category-tab viral" onclick="showCategory('viral')">‡πÑ‡∏ß‡∏£‡∏±‡∏™</button>
    </div>

    <div class="content">
        <!-- Fungal -->
        <div class="category-section active" id="fungal-section">
            <div class="section-header">
                <span class="section-icon">üçÑ</span>
                <span class="section-title">‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤</span>
                <span class="section-count">4 ‡πÇ‡∏£‡∏Ñ</span>
            </div>
            <div class="disease-list">
                <div class="disease-card fungal" onclick="showDetail('red_rot')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏ô‡πà‡∏≤‡πÅ‡∏î‡∏á</div>
                            <div class="disease-name-en">Red Rot</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÉ‡∏ô‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏Ç‡∏≤‡∏ß‡∏™‡∏•‡∏±‡∏ö ‡πÉ‡∏ö‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏´‡πâ‡∏á</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Colletotrichum falcatum</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å</span>
                    </div>
                </div>

                <div class="disease-card fungal" onclick="showDetail('smut')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏ô‡πà‡∏≤‡∏î‡∏≥ (‡πÅ‡∏™‡πâ‡∏î‡∏≥)</div>
                            <div class="disease-name-en">Sugarcane Smut</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏¢‡∏≠‡∏î‡∏¢‡∏∑‡∏î‡∏¢‡∏≤‡∏ß‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÅ‡∏™‡πâ‡∏™‡∏µ‡∏î‡∏≥ ‡∏°‡∏µ‡∏™‡∏õ‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏î‡∏≥‡∏õ‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Sporisorium scitamineum</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</span>
                    </div>
                </div>

                <div class="disease-card fungal" onclick="showDetail('rust')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡∏£‡∏≤‡∏™‡∏ô‡∏¥‡∏°</div>
                            <div class="disease-name-en">Sugarcane Rust</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏à‡∏∏‡∏î‡∏ô‡∏π‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡πâ‡∏°‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏™‡∏ô‡∏¥‡∏°‡∏ö‡∏ô‡πÉ‡∏ö ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÉ‡∏ö</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Puccinia melanocephala</span>
                        <span class="tag">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span>
                    </div>
                </div>

                <div class="disease-card fungal" onclick="showDetail('pokkah_boeng')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡∏¢‡∏≠‡∏î‡∏ö‡∏¥‡∏î</div>
                            <div class="disease-name-en">Pokkah Boeng</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÉ‡∏ö‡∏≠‡πà‡∏≠‡∏ô‡∏ö‡∏¥‡∏î‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ß ‡∏°‡∏µ‡πÅ‡∏ú‡∏•‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡∏¢‡∏≠‡∏î‡πÄ‡∏ô‡πà‡∏≤</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Fusarium moniliforme</span>
                        <span class="tag">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bacterial -->
        <div class="category-section" id="bacterial-section">
            <div class="section-header">
                <span class="section-icon">ü¶†</span>
                <span class="section-title">‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢</span>
                <span class="section-count">2 ‡πÇ‡∏£‡∏Ñ</span>
            </div>
            <div class="disease-list">
                <div class="disease-card bacterial" onclick="showDetail('ratoon_stunting')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡∏ï‡∏≠‡πÅ‡∏Ñ‡∏£‡∏∞</div>
                            <div class="disease-name-en">Ratoon Stunting Disease</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞‡πÄ‡∏ï‡∏µ‡πâ‡∏¢ ‡∏•‡∏≥‡πÄ‡∏•‡πá‡∏Å ‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡πâ‡∏ô ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏•‡∏î‡∏•‡∏á‡∏ó‡∏∏‡∏Å‡∏£‡∏∏‡πà‡∏ô</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Leifsonia xyli</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å</span>
                    </div>
                </div>

                <div class="disease-card bacterial" onclick="showDetail('leaf_scald')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏Ç‡∏≤‡∏ß‡∏•‡∏≤‡∏¢</div>
                            <div class="disease-name-en">Leaf Scald</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÉ‡∏ö‡∏°‡∏µ‡πÅ‡∏ñ‡∏ö‡∏Ç‡∏≤‡∏ß‡∏¢‡∏≤‡∏ß‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ö ‡∏Ç‡∏≠‡∏ö‡πÅ‡∏ñ‡∏ö‡πÅ‡∏î‡∏á ‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡∏ï‡∏≤‡∏¢</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Xanthomonas albilineans</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Viral -->
        <div class="category-section" id="viral-section">
            <div class="section-header">
                <span class="section-icon">üî¨</span>
                <span class="section-title">‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡πÑ‡∏ß‡∏£‡∏±‡∏™</span>
                <span class="section-count">2 ‡πÇ‡∏£‡∏Ñ</span>
            </div>
            <div class="disease-list">
                <div class="disease-card viral" onclick="showDetail('mosaic')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á</div>
                            <div class="disease-name-en">Sugarcane Mosaic</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÉ‡∏ö‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡∏î‡πà‡∏≤‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞ ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏•‡∏î</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">SCMV</span>
                        <span class="tag">‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</span>
                    </div>
                </div>

                <div class="disease-card viral" onclick="showDetail('yellow_leaf')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</div>
                            <div class="disease-name-en">Yellow Leaf Syndrome</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÉ‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ö ‡∏ï‡πâ‡∏ô‡πÇ‡∏ó‡∏£‡∏°</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">SCYLV</span>
                        <span class="tag">‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="diseaseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">-</h2>
                <p id="modalTitleEn">-</p>
            </div>
            <div class="modal-body">
                <!-- Disease Image -->
                <div class="disease-image-container" id="modalImageContainer" style="display: none; margin-bottom: 16px;">
                    <img id="modalImage" src="" alt="‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏£‡∏Ñ"
                         style="width: 100%; height: 200px; object-fit: cover; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                </div>
                <div class="detail-section">
                    <div class="detail-title">üî¨ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏</div>
                    <div class="detail-content" id="modalPathogen">-</div>
                </div>
                <div class="detail-section">
                    <div class="detail-title">üîç ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£</div>
                    <ul class="detail-list" id="modalSymptoms"><li>-</li></ul>
                </div>
                <div class="detail-section">
                    <div class="detail-title">üõ°Ô∏è ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤</div>
                    <ul class="detail-list" id="modalTreatment"><li>-</li></ul>
                </div>
                <div class="detail-section">
                    <div class="detail-title">üíä ‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</div>
                    <div class="detail-content" id="modalProducts">-</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn close" onclick="closeModal()">‡∏õ‡∏¥‡∏î</button>
                <button class="modal-btn primary" onclick="shareDisease()">‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <button class="footer-btn secondary" onclick="goBack()">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
            <button class="footer-btn primary" onclick="openCamera()">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ</button>
        </div>
    </div>

    <script>
        const LIFF_ID = '2008723334-HDSdj0iu';
        const diseaseData = {
            red_rot: {
                name: "‡πÇ‡∏£‡∏Ñ‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏ô‡πà‡∏≤‡πÅ‡∏î‡∏á", nameEn: "Red Rot",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Red%20Rot.jpg",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Colletotrichum falcatum",
                symptoms: ["‡∏ú‡πà‡∏≤‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÉ‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡∏°‡∏µ‡∏à‡∏∏‡∏î‡∏Ç‡∏≤‡∏ß‡∏™‡∏•‡∏±‡∏ö", "‡πÉ‡∏ö‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏´‡πâ‡∏á‡∏à‡∏≤‡∏Å‡∏¢‡∏≠‡∏î", "‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡∏¢‡∏∏‡∏ö ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏•‡∏î", "‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏õ‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÑ‡∏ß‡∏ô‡πå"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡πÅ‡∏ä‡πà‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô 50¬∞C ‡∏ô‡∏≤‡∏ô 2 ‡∏ä‡∏°.", "‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏π‡∏Å‡∏≠‡πâ‡∏≠‡∏¢‡∏ã‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°‡∏ô‡∏≤‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏µ"],
                products: "‡∏Ñ‡∏≤‡∏£‡πå‡πÄ‡∏ö‡∏ô‡∏î‡∏≤‡∏ã‡∏¥‡∏° 50WP (‡πÅ‡∏ä‡πà‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå)"
            },
            smut: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÄ‡∏ô‡πà‡∏≤‡∏î‡∏≥ (‡πÅ‡∏™‡πâ‡∏î‡∏≥)", nameEn: "Sugarcane Smut",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Sugarcane%20Smut.jpg",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Sporisorium scitamineum",
                symptoms: ["‡∏¢‡∏≠‡∏î‡∏¢‡∏∑‡∏î‡∏¢‡∏≤‡∏ß‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÅ‡∏™‡πâ‡∏™‡∏µ‡∏î‡∏≥ ‡∏¢‡∏≤‡∏ß 30-100 ‡∏ã‡∏°.", "‡∏°‡∏µ‡∏™‡∏õ‡∏≠‡∏£‡πå‡∏™‡∏µ‡∏î‡∏≥‡∏õ‡∏Å‡∏Ñ‡∏•‡∏∏‡∏°‡πÅ‡∏™‡πâ", "‡∏ï‡πâ‡∏ô‡πÅ‡∏ï‡∏Å‡∏Å‡∏≠‡∏°‡∏≤‡∏Å ‡∏•‡∏≥‡πÄ‡∏•‡πá‡∏Å", "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏ñ‡∏≠‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡πÄ‡∏ú‡∏≤‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡πÅ‡∏ä‡πà‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô 52¬∞C ‡∏ô‡∏≤‡∏ô 30 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏û‡πà‡∏ô‡∏¢‡∏≤‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤"],
                products: "‡πÇ‡∏õ‡∏£‡∏õ‡∏¥‡πÇ‡∏Ñ‡∏ô‡∏≤‡πÇ‡∏ã‡∏• 25EC, ‡∏Ñ‡∏≤‡∏£‡πå‡πÄ‡∏ö‡∏ô‡∏î‡∏≤‡∏ã‡∏¥‡∏° 50WP"
            },
            rust: {
                name: "‡πÇ‡∏£‡∏Ñ‡∏£‡∏≤‡∏™‡∏ô‡∏¥‡∏°", nameEn: "Sugarcane Rust",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Sugarcane%20Rust.png",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Puccinia melanocephala (Brown Rust), P. kuehnii (Orange Rust)",
                symptoms: ["‡∏à‡∏∏‡∏î‡∏ô‡∏π‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡πâ‡∏°‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏™‡∏ô‡∏¥‡∏°‡∏ö‡∏ô‡πÉ‡∏ö", "‡∏™‡∏õ‡∏≠‡∏£‡πå‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™", "‡πÉ‡∏ö‡πÅ‡∏´‡πâ‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏ñ‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏î‡∏´‡∏ô‡∏±‡∏Å", "‡∏•‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏™‡∏á"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏û‡πà‡∏ô‡∏¢‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏° Triazole ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏ö‡πÇ‡∏£‡∏Ñ", "‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏π‡∏Å‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏≠‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏î"],
                products: "‡πÇ‡∏õ‡∏£‡∏õ‡∏¥‡πÇ‡∏Ñ‡∏ô‡∏≤‡πÇ‡∏ã‡∏• 25EC, ‡∏≠‡∏∞‡∏ã‡∏≠‡∏Å‡∏ã‡∏µ‡∏™‡πÇ‡∏ï‡∏£‡∏ö‡∏¥‡∏ô"
            },
            pokkah_boeng: {
                name: "‡πÇ‡∏£‡∏Ñ‡∏¢‡∏≠‡∏î‡∏ö‡∏¥‡∏î", nameEn: "Pokkah Boeng",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Pokkah%20Boeng.jpg",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Fusarium moniliforme (Fusarium verticillioides)",
                symptoms: ["‡πÉ‡∏ö‡∏≠‡πà‡∏≠‡∏ô‡∏ö‡∏¥‡∏î‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ß ‡∏ú‡∏¥‡∏î‡∏£‡∏π‡∏õ", "‡∏°‡∏µ‡πÅ‡∏ú‡∏•‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏Ñ‡∏ô‡πÉ‡∏ö", "‡∏¢‡∏≠‡∏î‡πÄ‡∏ô‡πà‡∏≤ ‡∏ï‡πâ‡∏ô‡∏ï‡∏≤‡∏¢‡πÑ‡∏î‡πâ", "‡∏£‡∏∞‡∏ö‡∏≤‡∏î‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏£‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πâ‡∏ô"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏ï‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡πÄ‡∏ú‡∏≤‡∏ó‡∏≥‡∏•‡∏≤‡∏¢", "‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏™‡∏°‡∏î‡∏∏‡∏• ‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"],
                products: "‡∏Ñ‡∏≤‡∏£‡πå‡πÄ‡∏ö‡∏ô‡∏î‡∏≤‡∏ã‡∏¥‡∏° 50WP, ‡πÅ‡∏°‡∏ô‡πÇ‡∏Ñ‡πÄ‡∏ã‡πá‡∏ö 80WP"
            },
            leaf_scald: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏Ç‡∏≤‡∏ß‡∏•‡∏≤‡∏¢", nameEn: "Leaf Scald",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Leaf%20Scald.jpg",
                pathogen: "‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢ Xanthomonas albilineans",
                symptoms: ["‡πÉ‡∏ö‡∏°‡∏µ‡πÅ‡∏ñ‡∏ö‡∏Ç‡∏≤‡∏ß‡∏¢‡∏≤‡∏ß‡∏ï‡∏≤‡∏°‡πÅ‡∏ô‡∏ß‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ö", "‡∏Ç‡∏≠‡∏ö‡πÅ‡∏ñ‡∏ö‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", "‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏´‡πâ‡∏á‡∏ï‡∏≤‡∏¢", "‡∏ï‡πâ‡∏ô‡∏ï‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏≠"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡πÅ‡∏ä‡πà‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô 50¬∞C ‡∏ô‡∏≤‡∏ô 3 ‡∏ä‡∏°.", "‡∏ñ‡∏≠‡∏ô‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ", "‡∏Ü‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏°‡∏µ‡∏î‡∏ï‡∏±‡∏î"],
                products: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏¢‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤ - ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£"
            },
            mosaic: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á", nameEn: "Sugarcane Mosaic Virus (SCMV)",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Sugarcane%20Mosaic%20Virus%20(SCMV).jpg",
                pathogen: "Sugarcane Mosaic Virus (SCMV) - ‡∏û‡∏≤‡∏´‡∏∞: ‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô",
                symptoms: ["‡πÉ‡∏ö‡∏°‡∏µ‡∏•‡∏≤‡∏¢‡∏î‡πà‡∏≤‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏™‡∏•‡∏±‡∏ö‡∏Å‡∏±‡∏ô", "‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞ ‡∏•‡∏≥‡πÄ‡∏•‡πá‡∏Å", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡∏•‡∏î‡∏•‡∏á", "‡πÅ‡∏°‡∏•‡∏á‡∏û‡∏≤‡∏´‡∏∞: ‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô‡∏û‡∏≤‡∏´‡∏∞", "‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏ß‡∏±‡∏ä‡∏û‡∏∑‡∏ä‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏ä‡∏∑‡πâ‡∏≠"],
                products: "‡∏≠‡∏¥‡∏°‡∏¥‡∏î‡∏≤‡πÇ‡∏Ñ‡∏•‡∏û‡∏£‡∏¥‡∏î 70WG (‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢)"
            },
            yellow_leaf: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", nameEn: "Yellow Leaf Syndrome (YLS)",
                image: "https://fwzdgzpuajcsigwlyojr.supabase.co/storage/v1/object/public/disease-image/sugarcane/Yellow%20Leaf%20Syndrome%20(YLS).jpg",
                pathogen: "Sugarcane Yellow Leaf Virus (SCYLV) - ‡∏û‡∏≤‡∏´‡∏∞: ‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô",
                symptoms: ["‡πÉ‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏ö", "‡πÉ‡∏ö‡πÅ‡∏´‡πâ‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏•‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏ö", "‡∏ï‡πâ‡∏ô‡πÇ‡∏ó‡∏£‡∏° ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏•‡∏î", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÉ‡∏ô‡∏•‡∏≥‡∏•‡∏î‡∏•‡∏á 10-30%"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏≠‡πà‡∏≠‡∏ô‡∏û‡∏≤‡∏´‡∏∞", "‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏≤‡∏∞‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏¢‡∏∑‡πà‡∏≠", "‡∏ñ‡∏≠‡∏ô‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ"],
                products: "‡πÑ‡∏ó‡∏≠‡∏∞‡∏°‡∏µ‡∏ó‡∏≠‡∏Å‡πÅ‡∏ã‡∏°, ‡∏≠‡∏¥‡∏°‡∏¥‡∏î‡∏≤‡πÇ‡∏Ñ‡∏•‡∏û‡∏£‡∏¥‡∏î (‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢)"
            }
        };
        let currentDisease = null;

        document.addEventListener('DOMContentLoaded', async () => {
            try { await liff.init({ liffId: LIFF_ID }); } catch (e) { console.error(e); }
        });

        function showCategory(category) {
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`.category-tab.${category}`).classList.add('active');
            document.querySelectorAll('.category-section').forEach(s => s.classList.remove('active'));
            document.getElementById(`${category}-section`).classList.add('active');
        }

        function showDetail(key) {
            const d = diseaseData[key]; if (!d) return;
            currentDisease = d;

            // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
            const imageContainer = document.getElementById('modalImageContainer');
            const imageElement = document.getElementById('modalImage');
            if (d.image && d.image.trim() !== '') {
                imageElement.src = d.image;
                imageElement.alt = d.name;
                imageContainer.style.display = 'block';
            } else {
                imageContainer.style.display = 'none';
            }

            document.getElementById('modalTitle').textContent = d.name;
            document.getElementById('modalTitleEn').textContent = d.nameEn;
            document.getElementById('modalPathogen').textContent = d.pathogen;
            document.getElementById('modalSymptoms').innerHTML = d.symptoms.map(s => `<li>${s}</li>`).join('');
            document.getElementById('modalTreatment').innerHTML = d.treatment.map(t => `<li>${t}</li>`).join('');
            document.getElementById('modalProducts').textContent = d.products;
            document.getElementById('diseaseModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() { document.getElementById('diseaseModal').classList.remove('active'); document.body.style.overflow = ''; }
        function goBack() { window.location.href = '/liff/diseases'; }
        function openCamera() { if (liff.isInClient()) liff.closeWindow(); else alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE app'); }
        function shareDisease() {
            if (!currentDisease) return;
            const text = `üéã ${currentDisease.name} (${currentDisease.nameEn})\nüî¨ ${currentDisease.pathogen}\n\n‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà ICP Ladda Bot`;
            if (liff.isApiAvailable('shareTargetPicker')) liff.shareTargetPicker([{type:'text',text}]).catch(()=>fallbackShare(text));
            else fallbackShare(text);
        }
        function fallbackShare(t) { if(navigator.share) navigator.share({title:'‡πÇ‡∏£‡∏Ñ‡∏≠‡πâ‡∏≠‡∏¢',text:t}); else navigator.clipboard.writeText(t).then(()=>alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß')); }
        document.getElementById('diseaseModal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });
    </script>
</body>
</html>
