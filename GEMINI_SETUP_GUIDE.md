# üöÄ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å OpenAI ‡πÄ‡∏õ‡πá‡∏ô Google Gemini

## ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!

‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏°‡∏≤‡πÉ‡∏ä‡πâ **Google Gemini** ‡πÅ‡∏ó‡∏ô OpenAI ‡πÅ‡∏•‡πâ‡∏ß

---

## ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô?

### OpenAI (ChatGPT):
- ‚ùå ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡πÑ‡∏°‡πà‡∏°‡∏µ free tier)
- ‚ùå Rate limit ‡∏ï‡πà‡∏≥
- ‚úÖ ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏°‡∏≤‡∏Å

### Google Gemini:
- ‚úÖ **‡∏ü‡∏£‡∏µ!** (60 requests/minute)
- ‚úÖ Vision API ‡∏î‡∏µ (‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡πÑ‡∏î‡πâ)
- ‚úÖ Context window ‡πÉ‡∏´‡∏ç‡πà (1M tokens)
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÑ‡∏î‡πâ‡∏î‡∏µ
- ‚úÖ ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Gemini API Key

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://makersuite.google.com/app/apikey
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create API Key"**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Project (‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà)
4. Copy API Key

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏û‡∏¥‡πà‡∏° API Key ‡πÉ‡∏ô .env

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env`:

```env
# ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE

# ‡πÄ‡∏õ‡πá‡∏ô
GEMINI_API_KEY=AIzaSy...your_actual_key_here
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Restart Server

```bash
python app/main.py
```

---

## ‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ LINE Bot:
1. ‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡πÇ‡∏£‡∏Ñ‡∏û‡∏∑‡∏ä
2. ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:
   - ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏£‡∏Ñ/‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏û‡∏∑‡∏ä
   - ‚úÖ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£
   - ‚úÖ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Product ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

---

## ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô

### 1. ‚úÖ Import Libraries
```python
# ‡πÄ‡∏î‡∏¥‡∏°
from openai import OpenAI

# ‡πÉ‡∏´‡∏°‡πà
import google.generativeai as genai
from PIL import Image
import io
```

### 2. ‚úÖ Initialize Client
```python
# ‡πÄ‡∏î‡∏¥‡∏°
openai_client = OpenAI(api_key=OPENAI_API_KEY)

# ‡πÉ‡∏´‡∏°‡πà
genai.configure(api_key=GEMINI_API_KEY)
gemini_model = genai.GenerativeModel('gemini-1.5-flash')
```

### 3. ‚úÖ Vision API Call
```python
# ‡πÄ‡∏î‡∏¥‡∏° (OpenAI)
response = openai_client.chat.completions.create(
    model="gpt-4o",
    messages=[{
        "role": "user",
        "content": [
            {"type": "text", "text": prompt},
            {"type": "image_url", "image_url": {...}}
        ]
    }]
)

# ‡πÉ‡∏´‡∏°‡πà (Gemini)
image = Image.open(io.BytesIO(image_bytes))
response = gemini_model.generate_content([prompt, image])
raw_text = response.text
```

---

## Model ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### Gemini 1.5 Flash
- ‚ö° ‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- üí∞ ‡∏ü‡∏£‡∏µ (60 req/min)
- üéØ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö production
- üì∏ Vision API ‡∏î‡∏µ

### ‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£):

```python
# Gemini 1.5 Pro (‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤)
gemini_model = genai.GenerativeModel('gemini-1.5-pro')

# Gemini 1.0 Pro Vision (‡∏£‡∏∏‡πà‡∏ô‡πÄ‡∏Å‡πà‡∏≤)
gemini_model = genai.GenerativeModel('gemini-pro-vision')
```

---

## Free Tier Limits

### Gemini Free Tier:
- ‚úÖ 60 requests/minute
- ‚úÖ 1,500 requests/day
- ‚úÖ 1M tokens context
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢

### OpenAI Free Tier:
- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ free tier
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏∏‡∏Å request
- ‚ùå $0.01 per 1K tokens (GPT-4o)

---

## Troubleshooting

### ‚ùå Error: "API key not valid"

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ copy API key ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤-‡∏´‡∏•‡∏±‡∏á
3. ‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á API key ‡πÉ‡∏´‡∏°‡πà

### ‚ùå Error: "Resource exhausted"

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÄ‡∏Å‡∏¥‡∏ô rate limit (60 req/min)

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```python
# ‡πÄ‡∏û‡∏¥‡πà‡∏° retry logic ‡∏´‡∏£‡∏∑‡∏≠ rate limiting
import time
time.sleep(1)  # ‡∏£‡∏≠ 1 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á requests
```

### ‚ùå Error: "Image format not supported"

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```python
# ‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏π‡∏õ‡πÄ‡∏õ‡πá‡∏ô RGB ‡∏Å‡πà‡∏≠‡∏ô
image = Image.open(io.BytesIO(image_bytes))
if image.mode != 'RGB':
    image = image.convert('RGB')
```

---

## ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### OpenAI GPT-4o:
```json
{
  "disease_name": "‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡πÑ‡∏ü",
  "confidence": "95",
  "symptoms": "‡∏°‡∏µ‡πÅ‡∏°‡∏•‡∏á‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÅ‡∏î‡∏á‡∏ö‡∏ô‡πÉ‡∏ö"
}
```

### Gemini 1.5 Flash:
```json
{
  "disease_name": "‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡πÑ‡∏ü",
  "confidence": "‡∏™‡∏π‡∏á",
  "symptoms": "‡πÅ‡∏°‡∏•‡∏á‡∏™‡∏µ‡∏™‡πâ‡∏°‡πÅ‡∏î‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÉ‡∏ö‡∏û‡∏∑‡∏ä"
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:** ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å! Gemini ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

---

## ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£)

### ‡∏™‡∏°‡∏°‡∏ï‡∏¥: 1,000 requests/‡∏ß‡∏±‡∏ô

| Service | ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/‡∏ß‡∏±‡∏ô | ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô |
|---------|---------------|-----------------|
| **Gemini** | ‡∏ü‡∏£‡∏µ | ‡∏ü‡∏£‡∏µ |
| OpenAI GPT-4o | $10-20 | $300-600 |

**‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÑ‡∏î‡πâ:** ~$300-600/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô üí∞

---

## ‡∏™‡∏£‡∏∏‡∏õ

‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å OpenAI ‚Üí Gemini ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
‚úÖ ‡∏ü‡∏£‡∏µ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢
‚úÖ ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏û‡∏≠‡πÜ ‡∏Å‡∏±‡∏ô
‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÑ‡∏î‡πâ‡∏î‡∏µ

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ:**
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á Gemini API Key
2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô .env
3. Restart server
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö LINE Bot

üéâ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!
