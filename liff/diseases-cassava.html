<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÇ‡∏£‡∏Ñ‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á - ICP Ladda</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Sarabun', sans-serif; background: #f5f5f5; min-height: 100vh; }
        .header { background: linear-gradient(135deg, #6b4423 0%, #8b6914 100%); color: white; padding: 15px 20px; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }
        .header-content { max-width: 600px; margin: 0 auto; display: flex; align-items: center; gap: 15px; }
        .back-btn { background: rgba(255,255,255,0.2); border: none; color: white; width: 36px; height: 36px; border-radius: 50%; font-size: 1.2em; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .header-info { flex: 1; }
        .header h1 { font-size: 1.3em; font-weight: 700; display: flex; align-items: center; gap: 8px; }
        .header p { font-size: 0.85em; opacity: 0.9; }
        .category-tabs { max-width: 600px; margin: 0 auto; background: white; display: flex; border-bottom: 1px solid #eee; position: sticky; top: 66px; z-index: 99; }
        .category-tab { flex: 1; padding: 12px 8px; border: none; background: white; font-size: 0.9em; font-weight: 500; cursor: pointer; transition: all 0.3s ease; font-family: 'Sarabun', sans-serif; border-bottom: 3px solid transparent; }
        .category-tab:hover { background: #f9f9f9; }
        .category-tab.active { border-bottom-color: #8b6914; background: #fffcf5; }
        .category-tab.fungal.active { color: #8B4513; border-bottom-color: #8B4513; }
        .category-tab.bacterial.active { color: #DC143C; border-bottom-color: #DC143C; }
        .category-tab.viral.active { color: #9932CC; border-bottom-color: #9932CC; }
        .content { max-width: 600px; margin: 0 auto; padding: 15px 20px 100px; }
        .category-section { display: none; }
        .category-section.active { display: block; }
        .section-header { display: flex; align-items: center; gap: 10px; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #eee; }
        .section-icon { font-size: 1.5em; }
        .section-title { font-size: 1.15em; font-weight: 600; color: #333; }
        .section-count { margin-left: auto; font-size: 0.85em; color: #888; background: #f0f0f0; padding: 3px 10px; border-radius: 10px; }
        .disease-list { display: flex; flex-direction: column; gap: 12px; }
        .disease-card { background: white; border-radius: 15px; padding: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.3s ease; border-left: 4px solid #8b6914; }
        .disease-card:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.12); }
        .disease-card.fungal { border-left-color: #8B4513; }
        .disease-card.bacterial { border-left-color: #DC143C; }
        .disease-card.viral { border-left-color: #9932CC; }
        .disease-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .disease-name { font-size: 1.1em; font-weight: 600; color: #333; }
        .disease-name-en { font-size: 0.85em; color: #666; font-style: italic; }
        .disease-symptoms { font-size: 0.9em; color: #555; line-height: 1.5; margin-bottom: 10px; }
        .disease-tags { display: flex; gap: 8px; flex-wrap: wrap; }
        .tag { font-size: 0.75em; padding: 4px 10px; border-radius: 12px; background: #f5f0e5; color: #6b4423; }
        .tag.pathogen { background: #e3f2fd; color: #1565c0; }
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; padding: 20px; overflow-y: auto; }
        .modal.active { display: flex; align-items: flex-start; justify-content: center; }
        .modal-content { background: white; border-radius: 20px; width: 100%; max-width: 500px; margin: 20px 0; animation: slideUp 0.3s ease; }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .modal-header { padding: 20px; border-bottom: 1px solid #eee; }
        .modal-header h2 { font-size: 1.3em; color: #333; margin-bottom: 5px; }
        .modal-header p { font-size: 0.9em; color: #666; font-style: italic; }
        .modal-body { padding: 20px; }
        .detail-section { margin-bottom: 20px; }
        .detail-section:last-child { margin-bottom: 0; }
        .detail-title { font-size: 1em; font-weight: 600; color: #6b4423; margin-bottom: 8px; display: flex; align-items: center; gap: 6px; }
        .detail-content { font-size: 0.95em; color: #444; line-height: 1.6; }
        .detail-list { list-style: none; padding-left: 0; }
        .detail-list li { padding: 6px 0; padding-left: 20px; position: relative; }
        .detail-list li::before { content: "‚Ä¢"; position: absolute; left: 0; color: #8b6914; font-weight: bold; }
        .modal-footer { padding: 15px 20px; border-top: 1px solid #eee; display: flex; gap: 10px; }
        .modal-btn { flex: 1; padding: 12px; border: none; border-radius: 10px; font-size: 0.95em; font-weight: 600; cursor: pointer; font-family: 'Sarabun', sans-serif; }
        .modal-btn.close { background: #f0f0f0; color: #333; }
        .modal-btn.primary { background: #8b6914; color: white; }
        .footer { position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 15px 20px; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .footer-content { max-width: 600px; margin: 0 auto; display: flex; gap: 10px; }
        .footer-btn { flex: 1; padding: 12px; border: none; border-radius: 10px; font-size: 0.95em; font-weight: 600; cursor: pointer; font-family: 'Sarabun', sans-serif; transition: all 0.3s ease; }
        .footer-btn.primary { background: #8b6914; color: white; }
        .footer-btn.secondary { background: #f0f0f0; color: #333; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <button class="back-btn" onclick="goBack()">‚Üê</button>
            <div class="header-info">
                <h1><span>ü•î</span> ‡πÇ‡∏£‡∏Ñ‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á</h1>
                <p>Cassava Diseases</p>
            </div>
        </div>
    </div>

    <div class="category-tabs">
        <button class="category-tab fungal active" onclick="showCategory('fungal')">‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤</button>
        <button class="category-tab bacterial" onclick="showCategory('bacterial')">‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢</button>
        <button class="category-tab viral" onclick="showCategory('viral')">‡πÑ‡∏ß‡∏£‡∏±‡∏™</button>
    </div>

    <div class="content">
        <!-- Fungal -->
        <div class="category-section active" id="fungal-section">
            <div class="section-header">
                <span class="section-icon">üçÑ</span>
                <span class="section-title">‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤</span>
                <span class="section-count">4 ‡πÇ‡∏£‡∏Ñ</span>
            </div>
            <div class="disease-list">
                <div class="disease-card fungal" onclick="showDetail('anthracnose')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÅ‡∏≠‡∏ô‡πÅ‡∏ó‡∏£‡∏Ñ‡πÇ‡∏ô‡∏™</div>
                            <div class="disease-name-en">Cassava Anthracnose</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß ‡πÉ‡∏ö‡πÑ‡∏´‡∏°‡πâ ‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ú‡∏•‡∏¢‡∏∏‡∏ö ‡∏°‡∏µ‡∏¢‡∏≤‡∏á‡πÑ‡∏´‡∏•</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Colletotrichum gloeosporioides</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</span>
                    </div>
                </div>

                <div class="disease-card fungal" onclick="showDetail('leaf_spot')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•</div>
                            <div class="disease-name-en">Brown Leaf Spot</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏°‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ö‡∏ô‡πÉ‡∏ö ‡∏Ç‡∏≠‡∏ö‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÉ‡∏ö‡∏£‡πà‡∏ß‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Cercosporidium henningsii</span>
                        <span class="tag">‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</span>
                    </div>
                </div>

                <div class="disease-card fungal" onclick="showDetail('white_leaf_spot')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß</div>
                            <div class="disease-name-en">White Leaf Spot</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏ö‡∏ô‡πÉ‡∏ö ‡∏Ç‡∏≠‡∏ö‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Phaeoramularia manihotis</span>
                        <span class="tag">‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢</span>
                    </div>
                </div>

                <div class="disease-card fungal" onclick="showDetail('root_rot')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡∏´‡∏±‡∏ß‡πÄ‡∏ô‡πà‡∏≤</div>
                            <div class="disease-name-en">Cassava Root Rot</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏´‡∏±‡∏ß‡πÄ‡∏ô‡πà‡∏≤‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏î‡∏≥ ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏´‡∏°‡πá‡∏ô ‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Phytophthora spp.</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bacterial -->
        <div class="category-section" id="bacterial-section">
            <div class="section-header">
                <span class="section-icon">ü¶†</span>
                <span class="section-title">‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢</span>
                <span class="section-count">1 ‡πÇ‡∏£‡∏Ñ</span>
            </div>
            <div class="disease-list">
                <div class="disease-card bacterial" onclick="showDetail('bacterial_blight')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡πÑ‡∏´‡∏°‡πâ</div>
                            <div class="disease-name-en">Cassava Bacterial Blight</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÉ‡∏ö‡πÑ‡∏´‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö ‡∏°‡∏µ‡∏¢‡∏≤‡∏á‡πÑ‡∏´‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡πâ‡∏≤‡∏ô‡πÉ‡∏ö ‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡∏ï‡∏≤‡∏¢</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Xanthomonas axonopodis</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Viral -->
        <div class="category-section" id="viral-section">
            <div class="section-header">
                <span class="section-icon">üî¨</span>
                <span class="section-title">‡πÇ‡∏£‡∏Ñ‡∏à‡∏≤‡∏Å‡πÑ‡∏ß‡∏£‡∏±‡∏™</span>
                <span class="section-count">2 ‡πÇ‡∏£‡∏Ñ</span>
            </div>
            <div class="disease-list">
                <div class="disease-card viral" onclick="showDetail('mosaic')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á</div>
                            <div class="disease-name-en">Cassava Mosaic Disease</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡∏ö‡∏¥‡∏î‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ß ‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞ ‡∏´‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">CMV</span>
                        <span class="tag">‡πÅ‡∏°‡∏•‡∏á‡∏´‡∏ß‡∏µ‡πà‡∏Ç‡∏≤‡∏ß</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å</span>
                    </div>
                </div>

                <div class="disease-card viral" onclick="showDetail('witches_broom')">
                    <div class="disease-header">
                        <div>
                            <div class="disease-name">‡πÇ‡∏£‡∏Ñ‡∏û‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ</div>
                            <div class="disease-name-en">Cassava Witches' Broom</div>
                        </div>
                    </div>
                    <div class="disease-symptoms">‡∏¢‡∏≠‡∏î‡πÅ‡∏ï‡∏Å‡∏û‡∏∏‡πà‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÉ‡∏ö‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á ‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞ ‡∏´‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å</div>
                    <div class="disease-tags">
                        <span class="tag pathogen">Phytoplasma</span>
                        <span class="tag">‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏à‡∏±‡∏Å‡∏à‡∏±‡πà‡∏ô</span>
                        <span class="tag">‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="diseaseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">-</h2>
                <p id="modalTitleEn">-</p>
            </div>
            <div class="modal-body">
                <!-- Disease Image -->
                <div class="disease-image-container" id="modalImageContainer" style="display: none; margin-bottom: 16px;">
                    <img id="modalImage" src="" alt="‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÇ‡∏£‡∏Ñ"
                         style="width: 100%; height: 200px; object-fit: cover; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                </div>
                <div class="detail-section">
                    <div class="detail-title">üî¨ ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏</div>
                    <div class="detail-content" id="modalPathogen">-</div>
                </div>
                <div class="detail-section">
                    <div class="detail-title">üîç ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£</div>
                    <ul class="detail-list" id="modalSymptoms"><li>-</li></ul>
                </div>
                <div class="detail-section">
                    <div class="detail-title">üõ°Ô∏è ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤</div>
                    <ul class="detail-list" id="modalTreatment"><li>-</li></ul>
                </div>
                <div class="detail-section">
                    <div class="detail-title">üíä ‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</div>
                    <div class="detail-content" id="modalProducts">-</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn close" onclick="closeModal()">‡∏õ‡∏¥‡∏î</button>
                <button class="modal-btn primary" onclick="shareDisease()">‡πÅ‡∏ä‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-content">
            <button class="footer-btn secondary" onclick="goBack()">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
            <button class="footer-btn primary" onclick="openCamera()">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ</button>
        </div>
    </div>

    <script>
        const LIFF_ID = '2008723334-HDSdj0iu';
        const diseaseData = {
            anthracnose: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÅ‡∏≠‡∏ô‡πÅ‡∏ó‡∏£‡∏Ñ‡πÇ‡∏ô‡∏™", nameEn: "Cassava Anthracnose",
                image: "",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Colletotrichum gloeosporioides",
                symptoms: ["‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏´‡πâ‡∏á‡∏ï‡∏≤‡∏¢", "‡πÉ‡∏ö‡πÑ‡∏´‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö", "‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ú‡∏•‡∏¢‡∏∏‡∏ö‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", "‡∏°‡∏µ‡∏¢‡∏≤‡∏á‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÑ‡∏´‡∏•‡∏à‡∏≤‡∏Å‡πÅ‡∏ú‡∏•", "‡∏£‡∏∞‡∏ö‡∏≤‡∏î‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ù‡∏ô‡∏ä‡∏∏‡∏Å"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡∏ï‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡πÄ‡∏ú‡∏≤‡∏ó‡∏≥‡∏•‡∏≤‡∏¢", "‡∏û‡πà‡∏ô‡∏¢‡∏≤‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ù‡∏ô", "‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏π‡∏Å‡πÅ‡∏ô‡πà‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"],
                products: "‡πÅ‡∏°‡∏ô‡πÇ‡∏Ñ‡πÄ‡∏ã‡πá‡∏ö 80WP, ‡∏Ñ‡∏≤‡∏£‡πå‡πÄ‡∏ö‡∏ô‡∏î‡∏≤‡∏ã‡∏¥‡∏° 50WP, ‡πÇ‡∏õ‡∏£‡∏õ‡∏¥‡πÇ‡∏Ñ‡∏ô‡∏≤‡πÇ‡∏ã‡∏• 25EC"
            },
            leaf_spot: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•", nameEn: "Brown Leaf Spot",
                image: "",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Cercosporidium henningsii",
                symptoms: ["‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏°‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏ö‡∏ô‡πÉ‡∏ö ‡∏Ç‡∏ô‡∏≤‡∏î 3-12 ‡∏°‡∏°.", "‡∏Ç‡∏≠‡∏ö‡πÅ‡∏ú‡∏•‡∏°‡∏µ‡∏ß‡∏á‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", "‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏£‡πà‡∏ß‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î", "‡∏•‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏™‡∏á"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô", "‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡πÄ‡∏ú‡∏≤‡∏ó‡∏≥‡∏•‡∏≤‡∏¢", "‡∏û‡πà‡∏ô‡∏¢‡∏≤‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏≠‡∏á‡πÅ‡∏î‡∏á", "‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏î‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ"],
                products: "‡∏Ñ‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡∏≠‡∏≠‡∏Å‡∏ã‡∏µ‡∏Ñ‡∏•‡∏≠‡πÑ‡∏£‡∏î‡πå 85WP, ‡πÅ‡∏°‡∏ô‡πÇ‡∏Ñ‡πÄ‡∏ã‡πá‡∏ö 80WP"
            },
            white_leaf_spot: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß", nameEn: "White Leaf Spot",
                image: "",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Phaeoramularia manihotis",
                symptoms: ["‡∏à‡∏∏‡∏î‡∏Å‡∏•‡∏°‡πÄ‡∏•‡πá‡∏Å‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏ö‡∏ô‡πÉ‡∏ö ‡∏Ç‡∏ô‡∏≤‡∏î 1-5 ‡∏°‡∏°.", "‡∏Ç‡∏≠‡∏ö‡πÅ‡∏ú‡∏•‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏≠‡πà‡∏≠‡∏ô", "‡∏û‡∏ö‡∏°‡∏≤‡∏Å‡πÉ‡∏ô‡πÉ‡∏ö‡πÅ‡∏Å‡πà", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏ï‡πà‡∏≥"],
                treatment: ["‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏û‡πà‡∏ô‡∏¢‡∏≤‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á", "‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡∏ó‡∏¥‡πâ‡∏á", "‡∏õ‡∏•‡∏π‡∏Å‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô"],
                products: "‡πÅ‡∏°‡∏ô‡πÇ‡∏Ñ‡πÄ‡∏ã‡πá‡∏ö 80WP (‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)"
            },
            root_rot: {
                name: "‡πÇ‡∏£‡∏Ñ‡∏´‡∏±‡∏ß‡πÄ‡∏ô‡πà‡∏≤", nameEn: "Cassava Root Rot",
                image: "",
                pathogen: "‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ Phytophthora spp., Fusarium spp.",
                symptoms: ["‡∏´‡∏±‡∏ß‡πÄ‡∏ô‡πà‡∏≤‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏î‡∏≥‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡πÉ‡∏ô", "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÄ‡∏´‡∏°‡πá‡∏ô", "‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÇ‡∏ó‡∏£‡∏° ‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏£‡πà‡∏ß‡∏á", "‡∏°‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á"],
                treatment: ["‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ", "‡∏¢‡∏Å‡∏£‡πà‡∏≠‡∏á‡∏õ‡∏•‡∏π‡∏Å", "‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏™‡∏∞‡∏≠‡∏≤‡∏î", "‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ"],
                products: "‡πÄ‡∏°‡∏ó‡∏≤‡πÅ‡∏•‡∏Å‡∏ã‡∏¥‡∏• 25WP, ‡∏Ñ‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÑ‡∏Æ‡∏î‡∏£‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå 77WP"
            },
            bacterial_blight: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡πÑ‡∏´‡∏°‡πâ", nameEn: "Cassava Bacterial Blight (CBB)",
                image: "",
                pathogen: "‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢ Xanthomonas axonopodis pv. manihotis",
                symptoms: ["‡πÉ‡∏ö‡πÑ‡∏´‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡∏≠‡∏ö‡πÉ‡∏ö ‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏â‡πà‡∏≥‡∏ô‡πâ‡∏≥", "‡∏°‡∏µ‡∏¢‡∏≤‡∏á‡∏™‡∏µ‡∏Ñ‡∏£‡∏µ‡∏°‡πÑ‡∏´‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡πâ‡∏≤‡∏ô‡πÉ‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏≥‡∏ï‡πâ‡∏ô", "‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡∏ï‡∏≤‡∏¢", "‡∏•‡∏≥‡∏ï‡πâ‡∏ô‡πÅ‡∏´‡πâ‡∏á‡∏ï‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡πÅ‡∏ä‡πà‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏ô‡∏ô‡πâ‡∏≥‡∏£‡πâ‡∏≠‡∏ô 49¬∞C ‡∏ô‡∏≤‡∏ô 49 ‡∏ô‡∏≤‡∏ó‡∏µ", "‡∏ñ‡∏≠‡∏ô‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ", "‡πÑ‡∏°‡πà‡∏ô‡∏≥‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏à‡∏≤‡∏Å‡πÅ‡∏õ‡∏•‡∏á‡πÇ‡∏£‡∏Ñ‡∏°‡∏≤‡πÉ‡∏ä‡πâ"],
                products: "‡∏Ñ‡∏≠‡∏õ‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÑ‡∏Æ‡∏î‡∏£‡∏≠‡∏Å‡πÑ‡∏ã‡∏î‡πå 77WP (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô), ‡∏™‡πÄ‡∏ï‡∏£‡∏õ‡πÇ‡∏ï‡∏°‡∏±‡∏¢‡∏ã‡∏¥‡∏ô"
            },
            mosaic: {
                name: "‡πÇ‡∏£‡∏Ñ‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á", nameEn: "Cassava Mosaic Disease (CMD)",
                image: "",
                pathogen: "Sri Lankan Cassava Mosaic Virus (SLCMV) - ‡∏û‡∏≤‡∏´‡∏∞: ‡πÅ‡∏°‡∏•‡∏á‡∏´‡∏ß‡∏µ‡πà‡∏Ç‡∏≤‡∏ß",
                symptoms: ["‡πÉ‡∏ö‡∏î‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÑ‡∏°‡πà‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠", "‡πÉ‡∏ö‡∏ö‡∏¥‡∏î‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ß ‡∏´‡∏¢‡∏¥‡∏Å‡∏á‡∏≠", "‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞‡πÅ‡∏Å‡∏£‡πá‡∏ô ‡πÄ‡∏ï‡∏µ‡πâ‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥", "‡∏´‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å ‡πÅ‡∏õ‡πâ‡∏á‡∏ï‡πà‡∏≥ ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏•‡∏î‡∏•‡∏á‡∏°‡∏≤‡∏Å"],
                treatment: ["‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á‡∏´‡∏ß‡∏µ‡πà‡∏Ç‡∏≤‡∏ß‡∏û‡∏≤‡∏´‡∏∞", "‡∏ñ‡∏≠‡∏ô‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡πÉ‡∏ä‡πâ‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏∞‡∏¢‡∏≠‡∏á 72"],
                products: "‡∏≠‡∏¥‡∏°‡∏¥‡∏î‡∏≤‡πÇ‡∏Ñ‡∏•‡∏û‡∏£‡∏¥‡∏î 70WG (‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á‡∏´‡∏ß‡∏µ‡πà‡∏Ç‡∏≤‡∏ß), ‡πÑ‡∏ó‡∏≠‡∏∞‡∏°‡∏µ‡∏ó‡∏≠‡∏Å‡πÅ‡∏ã‡∏°"
            },
            witches_broom: {
                name: "‡πÇ‡∏£‡∏Ñ‡∏û‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ", nameEn: "Cassava Witches' Broom",
                image: "",
                pathogen: "Phytoplasma - ‡∏û‡∏≤‡∏´‡∏∞: ‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏à‡∏±‡∏Å‡∏à‡∏±‡πà‡∏ô",
                symptoms: ["‡∏¢‡∏≠‡∏î‡πÅ‡∏ï‡∏Å‡∏û‡∏∏‡πà‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÑ‡∏°‡πâ‡∏Å‡∏ß‡∏≤‡∏î", "‡πÉ‡∏ö‡πÄ‡∏•‡πá‡∏Å‡∏•‡∏á ‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡πâ‡∏ô", "‡∏ï‡πâ‡∏ô‡πÅ‡∏Ñ‡∏£‡∏∞‡πÅ‡∏Å‡∏£‡πá‡∏ô", "‡∏´‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏•‡∏á‡∏´‡∏±‡∏ß"],
                treatment: ["‡∏ñ‡∏≠‡∏ô‡∏ó‡∏≥‡∏•‡∏≤‡∏¢‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", "‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢‡∏à‡∏±‡∏Å‡∏à‡∏±‡πà‡∏ô‡∏û‡∏≤‡∏´‡∏∞", "‡πÉ‡∏ä‡πâ‡∏ó‡πà‡∏≠‡∏ô‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡∏à‡∏≤‡∏Å‡πÅ‡∏´‡∏•‡πà‡∏á‡∏õ‡∏•‡∏≠‡∏î‡πÇ‡∏£‡∏Ñ", "‡πÑ‡∏°‡πà‡∏õ‡∏•‡∏π‡∏Å‡∏ã‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏¥‡∏°"],
                products: "‡πÑ‡∏ã‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏°‡∏ó‡∏£‡∏¥‡∏ô, ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏≤‡∏£‡∏¥‡∏• (‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÄ‡∏û‡∏•‡∏µ‡πâ‡∏¢)"
            }
        };
        let currentDisease = null;

        document.addEventListener('DOMContentLoaded', async () => {
            try { await liff.init({ liffId: LIFF_ID }); } catch (e) { console.error(e); }
        });

        function showCategory(category) {
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`.category-tab.${category}`).classList.add('active');
            document.querySelectorAll('.category-section').forEach(s => s.classList.remove('active'));
            document.getElementById(`${category}-section`).classList.add('active');
        }

        function showDetail(key) {
            const d = diseaseData[key]; if (!d) return;
            currentDisease = d;

            // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
            const imageContainer = document.getElementById('modalImageContainer');
            const imageElement = document.getElementById('modalImage');
            if (d.image && d.image.trim() !== '') {
                imageElement.src = d.image;
                imageElement.alt = d.name;
                imageContainer.style.display = 'block';
            } else {
                imageContainer.style.display = 'none';
            }

            document.getElementById('modalTitle').textContent = d.name;
            document.getElementById('modalTitleEn').textContent = d.nameEn;
            document.getElementById('modalPathogen').textContent = d.pathogen;
            document.getElementById('modalSymptoms').innerHTML = d.symptoms.map(s => `<li>${s}</li>`).join('');
            document.getElementById('modalTreatment').innerHTML = d.treatment.map(t => `<li>${t}</li>`).join('');
            document.getElementById('modalProducts').textContent = d.products;
            document.getElementById('diseaseModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() { document.getElementById('diseaseModal').classList.remove('active'); document.body.style.overflow = ''; }
        function goBack() { window.location.href = '/liff/diseases'; }
        function openCamera() { if (liff.isInClient()) liff.closeWindow(); else alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE app'); }
        function shareDisease() {
            if (!currentDisease) return;
            const text = `ü•î ${currentDisease.name} (${currentDisease.nameEn})\nüî¨ ${currentDisease.pathogen}\n\n‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏ó‡∏µ‡πà ICP Ladda Bot`;
            if (liff.isApiAvailable('shareTargetPicker')) liff.shareTargetPicker([{type:'text',text}]).catch(()=>fallbackShare(text));
            else fallbackShare(text);
        }
        function fallbackShare(t) { if(navigator.share) navigator.share({title:'‡πÇ‡∏£‡∏Ñ‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á',text:t}); else navigator.clipboard.writeText(t).then(()=>alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß')); }
        document.getElementById('diseaseModal').addEventListener('click', function(e) { if (e.target === this) closeModal(); });
    </script>
</body>
</html>
